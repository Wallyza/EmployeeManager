@model IEnumerable<EmployeeManager.Models.Employee>

@{
  ViewBag.Title = "Employees";
}

<h2>Employee List</h2>

<p>
  @Html.ActionLink("Create New", "Create")
</p>

@using (Html.BeginForm("Index", "Employees", FormMethod.Get, new { @class = "form-inline" }))
{
  <div class="form-group">
    <label>Search:</label>
    @Html.TextBox("searchstring", null, new { @class = "form-control" })
    <input type="submit" class="btn btn-default" value="Search" />
  </div>
}

<table class="table">
  <thead>
    <tr>
      <th></th>
      <th>
        @Html.DisplayNameFor(model => model.Person.FullName)
      </th>
      <th>
        @Html.DisplayNameFor(model => model.EmployeeNum)
      </th>
      <th>
        @Html.DisplayNameFor(model => model.EmployedDate)
      </th>
      <th>
        @Html.DisplayNameFor(model => model.TerminatedDate)
      </th>
    </tr>
  </thead>
  <tbody>
    @foreach (var item in Model)
    {
      <tr>
        <td>
          <a href="@Url.Action("Edit", "Employees", new { id = item.EmployeeId })" class="btn btn-default" title="Edit"><span class="glyphicon glyphicon-pencil" aria-hidden="true"></span></a>
          <a href="@Url.Action("Details", "Employees", new { id = item.EmployeeId })" class="btn btn-default" title="View"><span class="glyphicon glyphicon-zoom-in" aria-hidden="true"></span></a>
          <a href="@Url.Action("Delete", "Employees", new { id = item.EmployeeId })" class="btn btn-default" title="Delete"><span class="glyphicon glyphicon-trash" aria-hidden="true"></span></a>
        </td>
        <td>
          @Html.DisplayFor(modelItem => item.Person.FullName)
        </td>
        <td>
          @Html.DisplayFor(modelItem => item.EmployeeNum)
        </td>
        <td>
          @Html.DisplayFor(modelItem => item.EmployedDate)
        </td>
        <td>
          @Html.DisplayFor(modelItem => item.TerminatedDate)
        </td>
      </tr>
    }
  </tbody>
  <tfoot>
    <tr>
      <td colspan="5">
        <strong>Total number of Employees: @Model.Count()</strong>
      </td>
    </tr>
  </tfoot>

</table>
